<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="dark light">
    <title>–°–≤—è–∑–∞—Ç—å—Å—è —Å –Ω–∞–º–∏ ‚Äî Evrocontayner</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="static/styles/style.css">
    <link rel="stylesheet" href="static/styles/theme-variables.css">
    <script>
        document.documentElement.style.display = 'none';
    </script>
    <script>
        (function () {
            const theme = localStorage.getItem('theme') || 'dark';
            if (theme === 'dark') document.documentElement.classList.add('dark-mode');
        })();
    </script>
    <script>
        (function () {
            const lang = localStorage.getItem('lang') || 'ru';
            document.documentElement.setAttribute('data-lang', lang);
            document.documentElement.lang = (lang === 'kz') ? 'kk' : 'ru';
        })();
    </script>
    <style>
      /* –ë–∞–∑–æ–≤—ã–µ —Ç—ë–º–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –±–µ–ª–æ–π –≤—Å–ø—ã—à–∫–∏ */
      html.dark-mode {
        background-color: #1a1a1a;
        color: #e5e5e5;
      }
      html.dark-mode body {
        background-color: #1a1a1a;
        color: #e5e5e5;
      }
    </style>
    <script>
      document.documentElement.style.display = '';
    </script>
    <style>
        .back-button {
            display: inline-block;
            margin: 50px 0 18px 0;
            padding: 8px 12px;
            background: #374151;
            color: #fff;
            border-radius: 6px;
            text-decoration: none;
        }
    </style>
</head>

<body>

    <header>
        <div class="header-top">
            <a href="index.html" class="logo" data-i18n="logo">Evrocontayner</a>
            <div class="search-bar">
                <input type="text" id="search" placeholder="–ü–æ–∏—Å–∫...">
                <select id="filter">
                    <option value="all" data-i18n="search.all">–í—Å–µ</option>
                    <option value="containers" data-i18n="search.containers">–ï–≤—Ä–æ-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã</option>
                    <option value="kiosks" data-i18n="search.kiosks">–ö–∏–æ—Å–∫–∏</option>
                    <option value="mobile" data-i18n="search.mobile">–ú–æ–±–∏–ª—å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è</option>
                </select>
                <button id="search-btn" data-i18n="search.find">–ù–∞–π—Ç–∏</button>
            </div>
            <div class="top-right-controls">
                <button class="search-toggle-btn">üîç</button>
                <div class="lang-wrapper">
                    <button id="lang-toggle" class="lang-tab">RU</button>
                    <div id="lang-panel" class="lang-panel">
                        <button class="lang-option" data-lang="ru">RU</button>
                        <button class="lang-option" data-lang="kz">KZ</button>
                    </div>
                </div>
                <button id="theme-toggle" class="theme-toggle-btn" title="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">üåô</button>
            </div>
        </div>
        <div class="header-nav">
            <div class="nav-item">
                <button class="nav-btn" data-i18n="nav.products">–ü—Ä–æ–¥—É–∫—Ü–∏—è</button>
                <div class="dropdown-menu">
                    <a href="products.html">–ï–≤—Ä–æ-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã</a>
                    <a href="products.html">–ú–æ–¥—É–ª—å–Ω—ã–µ –∫–∏–æ—Å–∫–∏</a>
                    <a href="products.html">–ú–æ–±–∏–ª—å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è</a>
                    <a href="products.html">–ö–æ–º–ø–ª–µ–∫—Ç—É—é—â–∏–µ</a>
                </div>
            </div>
            <div class="nav-item">
                <button class="nav-btn" data-i18n="nav.applications">–°—Ñ–µ—Ä—ã –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è</button>
                <div class="dropdown-menu">
                    <a href="#">–¢–æ—Ä–≥–æ–≤–ª—è</a>
                    <a href="#">–û–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø–∏—Ç–∞–Ω–∏–µ</a>
                    <a href="#">–õ–æ–≥–∏—Å—Ç–∏–∫–∞</a>
                    <a href="#">–£—Å–ª—É–≥–∏</a>
                </div>
            </div>
            <div class="nav-item">
                <button class="nav-btn" data-i18n="nav.buy">–ö—É–ø–∏—Ç—å</button>
                <div class="dropdown-menu">
                    <a href="#">–ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤</a>
                    <a href="#">–¶–µ–Ω—ã</a>
                    <a href="#">–î–æ—Å—Ç–∞–≤–∫–∞</a>
                    <a href="#">–û–ø–ª–∞—Ç–∞</a>
                </div>
            </div>
            <div class="nav-item">
                <button class="nav-btn" data-i18n="nav.rent">–ê—Ä–µ–Ω–¥–∞</button>
                <div class="dropdown-menu">
                    <a href="#">–£—Å–ª–æ–≤–∏—è –∞—Ä–µ–Ω–¥—ã</a>
                    <a href="#">–¢–∞—Ä–∏—Ñ—ã</a>
                    <a href="#">–î–æ–≥–æ–≤–æ—Ä</a>
                    <a href="#">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</a>
                </div>
            </div>
            <div class="nav-item">
                <button class="nav-btn" data-i18n="nav.company">–ö–æ–º–ø–∞–Ω–∏—è</button>
                <div class="dropdown-menu">
                    <a href="about.html">–û –Ω–∞—Å</a>
                    <a href="#">–ò—Å—Ç–æ—Ä–∏—è</a>
                    <a href="#">–ö–æ–º–∞–Ω–¥–∞</a>
                    <a href="contact.html">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
                </div>
            </div>
        </div>
    </header>

    <div class="sidebar">
        <a href="services.html" data-tooltip="–£—Å–ª—É–≥–∏">
            <span class="icon" aria-hidden="true">
                <svg class="icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M22 2l-4 4" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"
                        stroke-linejoin="round" />
                    <path d="M14 2l8 8-5 5-8-8 5-5z" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"
                        stroke-linejoin="round" />
                    <path d="M3 21c0-3 2-6 6-6" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"
                        stroke-linejoin="round" />
                </svg>
            </span>
            <span class="label" data-i18n="sidebar.services">–£—Å–ª—É–≥–∏</span>
        </a>
        <a href="gallery.html" data-tooltip="–ì–∞–ª–µ—Ä–µ—è">
            <span class="icon" aria-hidden="true">
                <svg class="icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect x="2" y="4" width="20" height="16" rx="2" stroke="currentColor" stroke-width="1.4" />
                    <circle cx="8" cy="9" r="1.6" fill="currentColor" />
                    <path d="M21 18l-6-6-5 5-3-3-4 4" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"
                        stroke-linejoin="round" fill="none" />
                </svg>
            </span>
            <span class="label" data-i18n="sidebar.gallery">–ì–∞–ª–µ—Ä–µ—è</span>
        </a>
        <a href="products.html" data-tooltip="–ü—Ä–æ–¥—É–∫—Ü–∏—è">
            <span class="icon" aria-hidden="true">
                <svg class="icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 16V8a2 2 0 0 0-1-1.73L13 2 4 6.27V16a2 2 0 0 0 1 1.73L11 22l8-4.27A2 2 0 0 0 21 16z"
                        stroke="currentColor" stroke-width="1.2" stroke-linejoin="round" fill="none" />
                    <path d="M12 7v6" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" />
                </svg>
            </span>
            <span class="label" data-i18n="sidebar.products">–ü—Ä–æ–¥—É–∫—Ü–∏—è</span>
        </a>
        <a href="about.html" data-tooltip="–û –Ω–∞—Å">
            <span class="icon" aria-hidden="true">
                <svg class="icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="1.4" />
                    <path d="M12 8h.01" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" />
                    <path d="M11.5 11h1v5h-1z" fill="currentColor" />
                </svg>
            </span>
            <span class="label" data-i18n="sidebar.about">–û –Ω–∞—Å</span>
        </a>
        <a href="index.html" data-tooltip="–ù–∞ –≥–ª–∞–≤–Ω—É—é">
            <span class="icon" aria-hidden="true">
                <svg class="icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M3 7v10a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V7" stroke="currentColor" stroke-width="1.4"
                        stroke-linecap="round" stroke-linejoin="round" />
                    <path d="M3 7l9 6 9-6" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"
                        stroke-linejoin="round" fill="none" />
                </svg>
            </span>
            <span class="label">–ì–ª–∞–≤–Ω–∞—è</span>
        </a>
    </div>

    <main>
        <a href="index.html" class="back-button" data-i18n="back.home">‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é</a>
        <section id="contact-page">
            <h2 data-i18n="contact.title">–°–≤—è–∑–∞—Ç—å—Å—è —Å –Ω–∞–º–∏</h2>
            
            <!-- Auth status widget -->
            <div id="auth-widget" style="display: none; margin-bottom: 20px; padding: 14px; background: var(--bg-secondary); border-radius: 8px; border-left: 4px solid var(--accent-color);">
              <p style="margin: 0 0 10px 0; color: var(--text-secondary);">üìã –í–∞—à–∏ –¥–∞–Ω–Ω—ã–µ</p>
              <div style="display: flex; align-items: center; gap: 12px; flex-wrap: wrap;">
                <div>
                  <p style="margin: 0; color: var(--text-primary); font-weight: 600;" id="auth-name"></p>
                  <p style="margin: 4px 0 0 0; color: var(--text-secondary); font-size: 0.9rem;" id="auth-email"></p>
                </div>
                <button id="auth-logout-btn" type="button" style="margin-left: auto; padding: 6px 12px; background: transparent; border: 1px solid var(--border-color); border-radius: 4px; cursor: pointer; font-size: 0.85rem; transition: all 0.2s ease;">–í—ã—Ö–æ–¥</button>
              </div>
            </div>

            <!-- Login/Register buttons -->
            <div id="auth-buttons" class="auth-container" style="margin-bottom: 20px; display: flex; gap: 10px; flex-wrap: wrap;">
              <a href="login.html" class="nav-btn auth-split" style="text-decoration: none; text-align: center; flex: 1; min-width: 140px; display: inline-block;">üîê –í—Ö–æ–¥</a>
              <a href="register.html" class="nav-btn auth-split" style="text-decoration: none; text-align: center; flex: 1; min-width: 140px; display: inline-block;">üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
            </div>

            <form id="contact-form" class="contact-form">
                <input id="cf-name" name="name" type="text" placeholder="–í–∞—à–µ –∏–º—è" data-i18n="form.name" required>
                <input id="cf-email" name="email" type="email" placeholder="Email" data-i18n="form.email" required>
                <textarea id="cf-message" name="message" rows="5" placeholder="–°–æ–æ–±—â–µ–Ω–∏–µ" data-i18n="form.message" required></textarea>
                <button id="cf-submit" type="submit" data-i18n="form.submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                <div id="contact-status" aria-live="polite" style="margin-top:10px"></div>
            </form>
        </section>

        <!-- CONTACT INFO -->
        <section id="contact-info" class="card">
            <h2>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h2>
            <div class="info-cards">
                <a href="tel:+77786804030" class="info-cell">üìû +7 778 680 4030</a>
                <a href="https://wa.me/77786804030" class="info-cell" target="_blank">üí¨ WhatsApp</a>
                <a href="mailto:info@evrocontayner.kz" class="info-cell">üìß Email</a>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="footer-content">
                        <h3>
                            <a href="terms.html" data-i18n="footer.terms">–£—Å–ª–æ–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</a>
                            <button class="cookie-settings-inline" aria-label="–ù–∞—Å—Ç—Ä–æ–π–∫–∏ cookie">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ cookie</button>
                        </h3>
            <div class="footer-sections">
                <div class="footer-section">


                </div>
            </div>
            <div class="footer-copyright">
                <p data-i18n="footer.copy">&copy; 2026 TOO Evrocontayner</p>
            </div>
        </div>
    </footer>


    <script src="static/catalog.js"></script>
    <script src="static/cookie-consent.js"></script>
    <script src="static/auth-combined.js"></script>
    <script src="static/i18n.js" defer></script>
    <script src="static/theme-toggle.js" defer></script>
    <script src="static/lang-toggle.js" defer></script>
        <script>
            document.addEventListener('DOMContentLoaded', function () {
                const form = document.getElementById('contact-form');
                const status = document.getElementById('contact-status');
                const submitBtn = document.getElementById('cf-submit');
                const nameFld = document.getElementById('cf-name');
                const emailFld = document.getElementById('cf-email');
                const authWidget = document.getElementById('auth-widget');
                const authButtons = document.getElementById('auth-buttons');
                const logoutBtn = document.getElementById('auth-logout-btn');

                // Check if user is logged in
                const sessionToken = localStorage.getItem('sessionToken');
                const userStr = localStorage.getItem('user');
                
                if (sessionToken && userStr) {
                    try {
                        const user = JSON.parse(userStr);
                        // Show auth widget and hide login buttons
                        authWidget.style.display = 'block';
                        authButtons.style.display = 'none';
                        
                        // Populate auth widget
                        document.getElementById('auth-name').textContent = user.name || '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å';
                        document.getElementById('auth-email').textContent = user.email || '';
                        
                        // Auto-fill form with user data
                        nameFld.value = user.name || '';
                        nameFld.readOnly = true;
                        emailFld.value = user.email || '';
                        emailFld.readOnly = true;
                        
                        // Logout handler
                        logoutBtn.addEventListener('click', async () => {
                            await fetch('/api/logout', {
                                method: 'POST',
                                headers: { 'Content-Type': 'application/json' },
                                body: JSON.stringify({ sessionToken })
                            });
                            localStorage.removeItem('sessionToken');
                            localStorage.removeItem('user');
                            window.location.reload();
                        });
                    } catch (e) {
                        console.error('Error parsing user data:', e);
                    }
                } else {
                    // Show login buttons if no session
                    authWidget.style.display = 'none';
                    authButtons.style.display = 'flex';
                }

                form.addEventListener('submit', async function (e) {
                    e.preventDefault();
                    status.textContent = '';
                    submitBtn.disabled = true;
                    submitBtn.textContent = '–û—Ç–ø—Ä–∞–≤–∫–∞...';

                    const payload = {
                        name: nameFld.value.trim(),
                        email: emailFld.value.trim(),
                        message: document.getElementById('cf-message').value.trim()
                    };

                    try {
                        const res = await fetch('/send', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(payload)
                        });

                        const raw = await res.text();
                        let data = null;
                        try {
                            data = raw ? JSON.parse(raw) : null;
                        } catch (e) {
                            data = { error: raw };
                        }

                        if (res.ok) {
                            status.style.color = 'green';
                            status.textContent = (data && data.ok) ? '–°–æ–æ–±—â–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ.' : '–°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ.';
                            if (!sessionToken) form.reset();
                        } else {
                            status.style.color = 'crimson';
                            status.textContent = (data && data.error) ? data.error : (raw || '–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å —Å–µ—Ä–≤–µ—Ä–∞.');
                        }
                    } catch (err) {
                        status.style.color = 'crimson';
                        status.textContent = '–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏: ' + err.message;
                    } finally {
                        submitBtn.disabled = false;
                        submitBtn.textContent = '–û—Ç–ø—Ä–∞–≤–∏—Ç—å';
                    }
                });
            });
        </script>
    <script src="static/mobile-menu.js" defer></script>
</body>

</html>